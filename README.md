# 概要  
PythonライブラリのPycaretのver3を利用して、回帰分析する雛形コードです。  
機械学習でお馴染みのボストンデータセットを例にしています。  

次の1～4の処理を行います。
## 1. csvデータファイルをpandasで読み込み  
   引数にて、ヘッダー行や、読み飛ばし行、エンコードなどを指定できます。
## 2. ヒストグラム
   データの偏りや飛び値の有無をヒストグラムで確認します。コードには、グラフの見栄えを整える処理をしています。
   また塗りつぶしやエッジの色指定ができます
## 3. 欠損値の削除
   必要であれば欠損値を削除します。欠損値の判断は、四分位範囲により判定します。
## 4. PyCaretによる回帰モデルの作成
   データの前処理から、回帰モデルの作成とその予測精度の確認。そして、回帰分析による特徴量ランキングをグラフにより可視化。作成した回帰モデルのセーブ、ロードまでの一連の流れの雛形コードです。
   1) データの標準化
   2) 訓練データの分布をヒストグラムで確認
   3) 回帰モデルのランキング作成して、トップ3を抽出
   4) トップ3の回帰モデルのハイパーパラメータを自動調整して、再度回帰モデルの作成
   5) ベスト回帰モデルを自動選定
   6) リッジ回帰モデルとベスト回帰モデルをスタッキングにより合成回帰モデルの作成
   7) 上記5,6の回帰モデルの予測精度を比較し、条件によってどちらかを選定する
   8) 作成した回帰モデルの予測精度、あてはまりの良さをグラフで表示
   9) 作成した回帰モデルの予測精度、絶対値のずれ度合いをグラフで表示  
   10) ライブラリshapを用いて、シャープレイ値による特徴量の感度ランキングなどをグラフで表示
   11) 作成した回帰モデルをバイナリ.pklで保存
   12) 保存した回帰モデル.pklを読み込み、予測したい未知データを読み込み予測する
   
# 備考
本コードで使用した主なライブラリのverは下記です。  
python 3.10.9  
pycaret 3.0.0  
shap 0.41.0  
jupyterlab 3.5.3  
